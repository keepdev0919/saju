# μ²λ…λ΅ API μ—”λ“ν¬μΈνΈ λ©λ΅
## : μ‹μ¤ν… ν†µμ‹  λ° λ°μ΄ν„° νλ¦„ κ°€μ΄λ“

λ³Έ λ¬Έμ„λ” 'μ²λ…λ΅' ν”„λ΅μ νΈμ ν”„λ΅ νΈμ—”λ“μ™€ λ°±μ—”λ“ κ°„μ λ¨λ“  ν†µμ‹  μΈν„°νμ΄μ¤λ¥Ό μ •μν•©λ‹λ‹¤. API μ„¤κ³„λ” μ§κ΄€μ„±κ³Ό λ‹¨κ³„λ³„ λ©μ μ„±μ„ μ°μ„ ν•λ©°, λ¨λ“  μ”μ²­μ κΈ°λ³Έ κ²½λ΅λ” `/api`μ…λ‹λ‹¤.

---

### 1. μ‚¬μ£Ό λ¶„μ„ (Saju Service) - `/api/saju`

| μ—”λ“ν¬μΈνΈ | λ©”μ†λ“ | μ„¤λ… | λΉ„κ³  |
| :--- | :--- | :--- | :--- |
| `/calculate` | **POST** | **ν”„λ¦¬λ―Έμ—„ λ¶„μ„** (μƒμ„Έ) | AI(GPT) ν•΄μ„ ν¬ν•¨ μ „μ²΄ κ³„μ‚° |
| **`/result-freeuser`** | **POST** | **λ¬΄λ£ λ¶„μ„** (κΈ°μ΄) | λΌμ΄λΈλ¬λ¦¬ μ—°μ‚°λ§ μν–‰ (ν•μ/μ¤ν–‰) |
| `/result/:token` | **GET** | **κ²°κ³Ό μ΅°ν** | ν† ν°μ— λ§¤μΉ­λ μ‚¬μ£Ό λ°μ΄ν„° λ°ν™ |

### 2. μ‚¬μ©μ λ° μΈμ¦ (User & Auth) - `/api/user`

| μ—”λ“ν¬μΈνΈ | λ©”μ†λ“ | μ„¤λ… | λΉ„κ³  |
| :--- | :--- | :--- | :--- |
| `/create` | **POST** | **μ‚¬μ©μ λ“±λ΅** | μ •λ³΄ μ €μ¥ λ° AccessToken λ°κΈ‰ |
| `/verify` | **POST** | **λ³ΈμΈ ν™•μΈ** | μ „ν™”λ²νΈ+μƒλ…„μ›”μΌλ΅ κΈ°μ΅΄ μ μ € ν™•μΈ |
| `/:token` | **GET** | **μ •λ³΄ μ΅°ν** | ν† ν°μ„ ν†µν• κΈ°μ΄ ν”„λ΅ν•„ ν™•μΈ |

### 3. κ²°μ  μ²λ¦¬ (Payment) - `/api/payment`

| μ—”λ“ν¬μΈνΈ | λ©”μ†λ“ | μ„¤λ… | λΉ„κ³  |
| :--- | :--- | :--- | :--- |
| `/create` | **POST** | **κ²°μ  μ”μ²­ μƒμ„±** | μ£Όλ¬Έλ²νΈ(`merchant_uid`) λ°κΈ‰ |
| `/verify` | **POST** | **κ²°μ  μ‚¬ν›„ κ²€μ¦** | ν¬νΈμ› API μ—°λ™ μ‹¤κ²°μ  ν™•μΈ |
| `/cancel` | **POST** | **κ²°μ  μ·¨μ†** | ν™λ¶ λ° μƒνƒ μ—…λ°μ΄νΈ |

### 4. λ¦¬ν¬νΈ μ†μ¥ (PDF Services) - `/api/pdf`

| μ—”λ“ν¬μΈνΈ | λ©”μ†λ“ | μ„¤λ… | λΉ„κ³  |
| :--- | :--- | :--- | :--- |
| `/generate` | **POST** | **PDF μƒμ„±** | μ‚¬μ£Ό κ²°κ³Ό κΈ°λ° PDF νμΌ μ΄λ―Έμ§€ν™” |
| `/download/:token` | **GET** | **PDF λ‹¤μ΄λ΅λ“** | μ†μ¥μ© PDF νμΌ μ „μ†΅ |
| `/check/:token` | **GET** | **μ†μ¥ μ—¬λ¶€ ν™•μΈ** | PDF κ²°μ  μ™„λ£ μƒνƒ μ²΄ν¬ |

### 5. κ΄€λ¦¬μ νμ΄μ§€ (Admin) - `/api/admin`

| μ—”λ“ν¬μΈνΈ | λ©”μ†λ“ | μ„¤λ… | λΉ„κ³  |
| :--- | :--- | :--- | :--- |
| `/login` | **POST** | **κ΄€λ¦¬μ λ΅κ·ΈμΈ** | μ„Έμ…/ν† ν° κΈ°λ° κ΄€λ¦¬μ μΈμ¦ |
| `/payments` | **GET** | **λ§¤μ¶ κ΄€λ¦¬** | μ „μ²΄ κ²°μ  λ‚΄μ—­ λ° ν†µκ³„ μ΅°ν |
| `/users` | **GET** | **νμ› κ΄€λ¦¬** | μ„λΉ„μ¤ μ΄μ©μ λ©λ΅ λ° κ²€μƒ‰ |
| `/results/:id` | **PUT** | **κ²°κ³Ό λ³΄μ •** | νΉμ • μ‚¬μ©μμ μ‚¬μ£Ό κ²°κ³Ό μμ • |

---

### π’΅ ν†µμ‹  μ„¤κ³„ μ›μΉ™
1.  **μ§κ΄€μ  λ„¤μ΄λ°**: `result-freeuser`μ™€ κ°™μ΄ μ‚¬μ©μ μƒνƒμ™€ κ²°κ³Όκ°€ κ²°ν•©λ μ§κ΄€μ μΈ μ΄λ¦„μ„ μ§€ν–¥ν•©λ‹λ‹¤.
2.  **λ³΄μ• (Security)**: `accessToken`μ„ ν†µν• μ΅°ν λ°©μ‹μ„ μ‚¬μ©ν•μ—¬ Insecure Direct Object Reference(IDOR) μ—λ¬λ¥Ό λ°©μ§€ν•©λ‹λ‹¤.
3.  **μ—λ¬ ν•Έλ“¤λ§**: ν†µμ‹  λ¬Έμ  λ°μƒ μ‹, μ—”λ“ν¬μΈνΈ λ…μΉ­λ§μΌλ΅λ„ ν”„λ΅μ„Έμ¤μ μ–΄λ λ‹¨κ³„(μ…λ ¥/λ¶„μ„/κ²°κ³Ό/κ²°μ )μ—μ„ λ¬Έμ κ°€ μƒκ²Όλ”μ§€ μ¦‰μ‹ νμ•…ν•  μ μλ„λ΅ κµ¬μ„±ν•©λ‹λ‹¤.

---
**μ—…λ°μ΄νΈ λ‚ μ§**: 2025λ…„ 12μ›” 20μΌ
**μ‘μ„±μ**: Antigravity (Advanced AI Coding Assistant)
