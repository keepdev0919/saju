# í”„ë¦¬ë¯¸ì—„ ê²°ì œ ì‹œìŠ¤í…œ êµ¬í˜„ ê°€ì´ë“œ (2ì°¨ ê²°ì œ)

## ğŸ“‹ ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [ìœ ì € í”Œë¡œìš°](#ìœ ì €-í”Œë¡œìš°)
3. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
4. [ë°±ì—”ë“œ êµ¬í˜„](#ë°±ì—”ë“œ-êµ¬í˜„)
5. [í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„](#í”„ë¡ íŠ¸ì—”ë“œ-êµ¬í˜„)
6. [í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤](#í…ŒìŠ¤íŠ¸-ì‹œë‚˜ë¦¬ì˜¤)

---

## ê°œìš”

### ëª©ì 
1ì°¨ ê²°ì œì(ì œ3ì„œ êµ¬ë§¤ì)ê°€ ì¶”ê°€ ê²°ì œë¥¼ í†µí•´:
1. ìˆ˜í˜¸ì‹  ì¹´ë“œì— **ìì‹ ì˜ í•œì ì´ë¦„**ì„ ìƒˆê¹€
2. **ì „ì²´ ê²°ê³¼ PDF**ë¥¼ ë°›ìŒ (ì œ1ì„œ + ì œ2ì„œ + ì œ3ì„œ + ìˆ˜í˜¸ì‹  ì¹´ë“œ)

### ê²°ì œ ê¸ˆì•¡
- **1ì°¨ ê²°ì œ**: 3,000ì› (í…ŒìŠ¤íŠ¸: 100ì›)
- **2ì°¨ ê²°ì œ**: TBD (í…ŒìŠ¤íŠ¸: 100ì›)

---

## ìœ ì € í”Œë¡œìš°

```
ë¬´ë£Œ ì‚¬ìš©ì
  â†“
[1ì°¨ ê²°ì œ (100ì›)]
  â†“
ì œ3ì„œ + ê¸°ë³¸ ìˆ˜í˜¸ì‹  ì¹´ë“œ ("å¤©å‘½éŒ„" ì¸ì¥)
  â†“
[ìˆ˜í˜¸ì‹  ì¹´ë“œ ì˜ì—­ì— 2ê°œ ë²„íŠ¼ í‘œì‹œ]
  - ë²„íŠ¼ 1: "ì´ë¦„ ìƒˆê¸°ê¸°"
  - ë²„íŠ¼ 2: "ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ" (ê¸°ë³¸ ë²„ì „)
  â†“
"ì´ë¦„ ìƒˆê¸°ê¸°" í´ë¦­ â†’ í•œì ì´ë¦„ ì…ë ¥ ëª¨ë‹¬ ì˜¤í”ˆ
  â†“
í•œì ì´ë¦„ ì…ë ¥ (2-4ì)
  â†“
[2ì°¨ ê²°ì œ (100ì›)]
  â†“
â‘  DBì— í•œì ì´ë¦„ ì €ì¥
â‘¡ isPremium í”Œë˜ê·¸ TRUEë¡œ ì—…ë°ì´íŠ¸
  â†“
[ê²°ê³¼ í˜ì´ì§€ ë¦¬ë¡œë“œ]
  â†“
ìˆ˜í˜¸ì‹  ì¹´ë“œ ì¸ì¥ì— í•œì ì´ë¦„ í‘œì‹œ
  â†“
[ë²„íŠ¼ 2ê°œ ë³€ê²½]
  - ë²„íŠ¼ 1: "ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ" (í•œì ìƒˆê²¨ì§„ ë²„ì „)
  - ë²„íŠ¼ 2: "ì „ì²´ ê²°ê³¼ PDF ë‹¤ìš´ë¡œë“œ"
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 1. `payments` í…Œì´ë¸” ìˆ˜ì •

**ìƒˆ ì»¬ëŸ¼ ì¶”ê°€:**
```sql
ALTER TABLE payments
ADD COLUMN payment_type ENUM('basic', 'premium') DEFAULT 'basic'
AFTER status;
```

**ì»¬ëŸ¼ ì„¤ëª…:**
- `payment_type`: ê²°ì œ íƒ€ì… êµ¬ë¶„
  - `basic`: 1ì°¨ ê²°ì œ (ì œ3ì„œ êµ¬ë§¤)
  - `premium`: 2ì°¨ ê²°ì œ (í”„ë¦¬ë¯¸ì—„ ì—…ê·¸ë ˆì´ë“œ)

---

### 2. `saju_results` í…Œì´ë¸” ìˆ˜ì •

**ìƒˆ ì»¬ëŸ¼ ì¶”ê°€:**
```sql
ALTER TABLE saju_results
ADD COLUMN custom_hanja_name VARCHAR(10) DEFAULT NULL
AFTER yongshen_reason,

ADD COLUMN is_premium BOOLEAN DEFAULT FALSE
AFTER custom_hanja_name;
```

**ì»¬ëŸ¼ ì„¤ëª…:**
- `custom_hanja_name`: ì‚¬ìš©ìê°€ ì…ë ¥í•œ í•œì ì´ë¦„ (ì˜ˆ: "ææ•æµ©")
- `is_premium`: 2ì°¨ ê²°ì œ ì™„ë£Œ ì—¬ë¶€ (TRUE/FALSE)

---

### 3. ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸

**íŒŒì¼ ê²½ë¡œ:** `backend/scripts/migrate_premium.js`

```javascript
import mysql from 'mysql2/promise';
import dotenv from 'dotenv';

dotenv.config();

async function migratePremium() {
  const connection = await mysql.createConnection({
    host: process.env.DB_HOST,
    user: process.env.DB_USER,
    password: process.env.DB_PASSWORD,
    database: process.env.DB_NAME
  });

  try {
    console.log('ğŸš€ í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œì‘...');

    // 1. payments í…Œì´ë¸” ìˆ˜ì •
    await connection.execute(`
      ALTER TABLE payments
      ADD COLUMN IF NOT EXISTS payment_type ENUM('basic', 'premium')
      DEFAULT 'basic'
      AFTER status
    `);
    console.log('âœ… payments.payment_type ì»¬ëŸ¼ ì¶”ê°€ ì™„ë£Œ');

    // 2. saju_results í…Œì´ë¸” ìˆ˜ì •
    await connection.execute(`
      ALTER TABLE saju_results
      ADD COLUMN IF NOT EXISTS custom_hanja_name VARCHAR(10)
      DEFAULT NULL
      AFTER yongshen_reason
    `);
    console.log('âœ… saju_results.custom_hanja_name ì»¬ëŸ¼ ì¶”ê°€ ì™„ë£Œ');

    await connection.execute(`
      ALTER TABLE saju_results
      ADD COLUMN IF NOT EXISTS is_premium BOOLEAN
      DEFAULT FALSE
      AFTER custom_hanja_name
    `);
    console.log('âœ… saju_results.is_premium ì»¬ëŸ¼ ì¶”ê°€ ì™„ë£Œ');

    console.log('ğŸ‰ í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ!');

  } catch (error) {
    console.error('âŒ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨:', error);
    throw error;
  } finally {
    await connection.end();
  }
}

migratePremium().catch(console.error);
```

**ì‹¤í–‰ ë°©ë²•:**
```bash
cd backend
node scripts/migrate_premium.js
```

---

## ë°±ì—”ë“œ êµ¬í˜„

### 1. í”„ë¦¬ë¯¸ì—„ ê²°ì œ ìš”ì²­ ìƒì„±

**íŒŒì¼:** `backend/src/controllers/paymentController.js`

**ìƒˆ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€:**

```javascript
/**
 * 2ì°¨ ê²°ì œ (í”„ë¦¬ë¯¸ì—„ ì—…ê·¸ë ˆì´ë“œ) ìš”ì²­ ìƒì„±
 * POST /api/payment/premium
 */
export const createPremiumPayment = async (req, res) => {
  try {
    const { accessToken, hanjaName } = req.body;

    // 1. í† í° ê²€ì¦ ë° ì‚¬ì£¼ ê²°ê³¼ ì¡°íšŒ
    const [results] = await db.execute(
      'SELECT * FROM saju_results WHERE access_token = ?',
      [accessToken]
    );

    if (results.length === 0) {
      return res.status(404).json({ error: 'ì‚¬ì£¼ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤' });
    }

    const sajuResult = results[0];

    // 2. 1ì°¨ ê²°ì œ ì™„ë£Œ í™•ì¸
    if (!sajuResult.is_paid) {
      return res.status(400).json({ error: '1ì°¨ ê²°ì œê°€ í•„ìš”í•©ë‹ˆë‹¤' });
    }

    // 3. ì´ë¯¸ í”„ë¦¬ë¯¸ì—„ ê²°ì œí–ˆëŠ”ì§€ í™•ì¸
    if (sajuResult.is_premium) {
      return res.status(400).json({
        error: 'ì´ë¯¸ í”„ë¦¬ë¯¸ì—„ ì—…ê·¸ë ˆì´ë“œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤'
      });
    }

    // 4. í•œì ì´ë¦„ ìœ íš¨ì„± ê²€ì¦
    const hanjaRegex = /^[\u4E00-\u9FFF]{2,4}$/;
    if (!hanjaRegex.test(hanjaName)) {
      return res.status(400).json({
        error: 'í•œì 2-4ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'
      });
    }

    // 5. í•œì ì´ë¦„ ì„ì‹œ ì €ì¥ (ê²°ì œ ì „)
    await db.execute(
      'UPDATE saju_results SET custom_hanja_name = ? WHERE access_token = ?',
      [hanjaName, accessToken]
    );

    // 6. í¬íŠ¸ì› ê²°ì œ ìš”ì²­ ë°ì´í„° ìƒì„±
    const paymentData = {
      merchant_uid: `premium_${Date.now()}`,
      amount: 100, // í…ŒìŠ¤íŠ¸: 100ì› (ì¶”í›„ ë³€ê²½)
      name: 'ì²œëª…ë¡ í”„ë¦¬ë¯¸ì—„ ì—…ê·¸ë ˆì´ë“œ',
      buyer_name: sajuResult.user_name,
      buyer_tel: '010-0000-0000',
      m_redirect_url: `${process.env.CLIENT_URL}/payment/callback`
    };

    res.json({
      success: true,
      paymentData,
      accessToken
    });

  } catch (error) {
    console.error('í”„ë¦¬ë¯¸ì—„ ê²°ì œ ìš”ì²­ ìƒì„± ì‹¤íŒ¨:', error);
    res.status(500).json({ error: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤' });
  }
};
```

---

### 2. ê²°ì œ ê²€ì¦ ìˆ˜ì •

**íŒŒì¼:** `backend/src/controllers/paymentController.js`

**ê¸°ì¡´ `verifyPayment` í•¨ìˆ˜ ìˆ˜ì •:**

```javascript
export const verifyPayment = async (req, res) => {
  try {
    const { imp_uid, merchant_uid } = req.body;

    // payment_type êµ¬ë¶„ (merchant_uidë¡œ íŒë‹¨)
    const isPremium = merchant_uid.startsWith('premium_');

    // í¬íŠ¸ì› ê²°ì œ ê²€ì¦ (ê¸°ì¡´ ë¡œì§)
    const accessToken = await getPortOneAccessToken();
    const paymentData = await getPaymentData(imp_uid, accessToken);

    // ê²°ì œ ê¸ˆì•¡ ê²€ì¦
    const expectedAmount = isPremium ? 100 : 100; // í…ŒìŠ¤íŠ¸: ë‘˜ ë‹¤ 100ì›
    if (paymentData.amount !== expectedAmount) {
      return res.status(400).json({ error: 'ê²°ì œ ê¸ˆì•¡ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤' });
    }

    if (isPremium) {
      // í”„ë¦¬ë¯¸ì—„ ê²°ì œ: is_premium = TRUE ì—…ë°ì´íŠ¸
      const [results] = await db.execute(
        'SELECT access_token FROM saju_results WHERE custom_hanja_name IS NOT NULL ORDER BY created_at DESC LIMIT 1'
      );

      if (results.length === 0) {
        return res.status(404).json({ error: 'ì‚¬ì£¼ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤' });
      }

      const accessToken = results[0].access_token;

      await db.execute(
        'UPDATE saju_results SET is_premium = TRUE WHERE access_token = ?',
        [accessToken]
      );

      // payments í…Œì´ë¸”ì— ì €ì¥
      await db.execute(
        `INSERT INTO payments (merchant_uid, imp_uid, amount, status, payment_type)
         VALUES (?, ?, ?, 'paid', 'premium')`,
        [merchant_uid, imp_uid, paymentData.amount]
      );

      res.json({
        success: true,
        accessToken,
        isPremium: true
      });

    } else {
      // ê¸°ë³¸ ê²°ì œ: ê¸°ì¡´ ë¡œì§ ìœ ì§€
      // ... (ê¸°ì¡´ ì½”ë“œ)
    }

  } catch (error) {
    console.error('ê²°ì œ ê²€ì¦ ì‹¤íŒ¨:', error);
    res.status(500).json({ error: 'ê²°ì œ ê²€ì¦ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤' });
  }
};
```

---

### 3. PDF ìƒì„± ì—”ë“œí¬ì¸íŠ¸

**í•„ìš” íŒ¨í‚¤ì§€ ì„¤ì¹˜:**
```bash
cd backend
npm install puppeteer
```

**íŒŒì¼:** `backend/src/controllers/pdfController.js` (ì‹ ê·œ)

```javascript
import puppeteer from 'puppeteer';
import db from '../config/database.js';

/**
 * PDF ìƒì„± ë° ë‹¤ìš´ë¡œë“œ
 * GET /api/pdf/generate/:token
 */
export const generatePDF = async (req, res) => {
  try {
    const { token } = req.params;

    // 1. í”„ë¦¬ë¯¸ì—„ ì‚¬ìš©ì í™•ì¸
    const [results] = await db.execute(
      `SELECT * FROM saju_results
       WHERE access_token = ? AND is_premium = TRUE`,
      [token]
    );

    if (results.length === 0) {
      return res.status(403).json({
        error: 'í”„ë¦¬ë¯¸ì—„ ì‚¬ìš©ìë§Œ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤'
      });
    }

    const sajuResult = results[0];

    // 2. Puppeteerë¡œ HTML â†’ PDF ë³€í™˜
    const browser = await puppeteer.launch({
      headless: 'new',
      args: [
        '--no-sandbox',
        '--disable-setuid-sandbox',
        '--disable-dev-shm-usage'
      ]
    });

    const page = await browser.newPage();

    // ê²°ê³¼ í˜ì´ì§€ URL ë°©ë¬¸ (print ëª¨ë“œ)
    const url = `${process.env.CLIENT_URL}/result/${token}?print=true`;
    await page.goto(url, {
      waitUntil: 'networkidle0',
      timeout: 30000
    });

    // PDF ìƒì„±
    const pdfBuffer = await page.pdf({
      format: 'A4',
      printBackground: true,
      margin: {
        top: '20mm',
        bottom: '20mm',
        left: '15mm',
        right: '15mm'
      }
    });

    await browser.close();

    // 3. PDF íŒŒì¼ ì „ì†¡
    res.setHeader('Content-Type', 'application/pdf');
    res.setHeader(
      'Content-Disposition',
      `attachment; filename="ì²œëª…ë¡_${sajuResult.user_name}.pdf"`
    );
    res.send(pdfBuffer);

  } catch (error) {
    console.error('PDF ìƒì„± ì‹¤íŒ¨:', error);
    res.status(500).json({ error: 'PDF ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤' });
  }
};
```

**ë¼ìš°í„° ì¶”ê°€:** `backend/src/routes/pdfRoutes.js` (ì‹ ê·œ)

```javascript
import express from 'express';
import { generatePDF } from '../controllers/pdfController.js';

const router = express.Router();

router.get('/generate/:token', generatePDF);

export default router;
```

**ë©”ì¸ ì„œë²„ì— ë¼ìš°í„° ë“±ë¡:** `backend/src/index.js`

```javascript
import pdfRoutes from './routes/pdfRoutes.js';

app.use('/api/pdf', pdfRoutes);
```

---

### 4. ê³ í™”ì§ˆ ìˆ˜í˜¸ì‹  ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ

**í•„ìš” íŒ¨í‚¤ì§€ ì„¤ì¹˜:**
```bash
cd backend
npm install sharp
```

**íŒŒì¼:** `backend/src/controllers/talismanController.js` (ì‹ ê·œ)

```javascript
import sharp from 'sharp';
import path from 'path';
import { fileURLToPath } from 'url';
import db from '../config/database.js';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

/**
 * ê³ í™”ì§ˆ ìˆ˜í˜¸ì‹  ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ (í•œì ê°ì¸ í¬í•¨)
 * GET /api/talisman/download/:token
 */
export const downloadTalismanImage = async (req, res) => {
  try {
    const { token } = req.params;

    // 1. ì‚¬ì£¼ ê²°ê³¼ ì¡°íšŒ
    const [results] = await db.execute(
      'SELECT * FROM saju_results WHERE access_token = ?',
      [token]
    );

    if (results.length === 0) {
      return res.status(404).json({ error: 'ì‚¬ì£¼ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤' });
    }

    const sajuResult = results[0];

    // 2. 1ì°¨ ê²°ì œ í™•ì¸
    if (!sajuResult.is_paid) {
      return res.status(403).json({ error: 'ê²°ì œê°€ í•„ìš”í•©ë‹ˆë‹¤' });
    }

    const talismanType = sajuResult.talisman_name; // ì˜ˆ: "ê°‘ì"
    const customName = sajuResult.custom_hanja_name;

    // 3. ì›ë³¸ ì´ë¯¸ì§€ ë¡œë“œ
    const imagePath = path.join(
      __dirname,
      '../../public/images/talisman/',
      `${talismanType}.png`
    );

    let image = sharp(imagePath);

    // 4. í”„ë¦¬ë¯¸ì—„ ì‚¬ìš©ìì¼ ê²½ìš° í•œì ì´ë¦„ ê°ì¸
    if (sajuResult.is_premium && customName) {
      // í•œì ì´ë¦„ í¬ë§·íŒ… (TalismanCard.jsx ë¡œì§ê³¼ ë™ì¼)
      let displayName = customName;

      if (customName.length === 2) {
        displayName = customName + 'ä¹‹å°';
      } else if (customName.length === 3) {
        displayName = customName + 'å°';
      }

      // SVG í…ìŠ¤íŠ¸ ë ˆì´ì–´ ìƒì„±
      const svgText = `
        <svg width="1024" height="1536">
          <style>
            .hanja-text {
              font-family: 'Gungsuh', 'Batang', serif;
              font-size: 60px;
              fill: #b91c1c;
              font-weight: 900;
            }
          </style>
          <text class="hanja-text" x="850" y="1450" text-anchor="middle">
            ${displayName.split('').map((char, i) => {
              const col = i % 2;
              const row = Math.floor(i / 2);
              return `<tspan x="${850 + col * 50}" dy="${row === 0 ? 0 : 60}">${char}</tspan>`;
            }).join('')}
          </text>
        </svg>
      `;

      const textBuffer = Buffer.from(svgText);

      // ì´ë¯¸ì§€ í•©ì„±
      image = image.composite([
        { input: textBuffer, top: 0, left: 0 }
      ]);
    }

    // 5. PNGë¡œ ë³€í™˜ ë° ì „ì†¡
    const buffer = await image.png().toBuffer();

    const fileName = sajuResult.is_premium
      ? `ìˆ˜í˜¸ì‹ _${sajuResult.user_name}_${customName}.png`
      : `ìˆ˜í˜¸ì‹ _${sajuResult.user_name}.png`;

    res.setHeader('Content-Type', 'image/png');
    res.setHeader('Content-Disposition', `attachment; filename="${fileName}"`);
    res.send(buffer);

  } catch (error) {
    console.error('ìˆ˜í˜¸ì‹  ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨:', error);
    res.status(500).json({ error: 'ì´ë¯¸ì§€ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤' });
  }
};
```

**ë¼ìš°í„° ì¶”ê°€:** `backend/src/routes/talismanRoutes.js` (ì‹ ê·œ)

```javascript
import express from 'express';
import { downloadTalismanImage } from '../controllers/talismanController.js';

const router = express.Router();

router.get('/download/:token', downloadTalismanImage);

export default router;
```

**ë©”ì¸ ì„œë²„ì— ë¼ìš°í„° ë“±ë¡:** `backend/src/index.js`

```javascript
import talismanRoutes from './routes/talismanRoutes.js';

app.use('/api/talisman', talismanRoutes);
```

---

## í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„

### 1. í•œì ì…ë ¥ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸

**íŒŒì¼:** `src/components/HanjaInputModal.jsx` (ì‹ ê·œ)

```jsx
import React, { useState } from 'react';
import { X } from 'lucide-react';

const HanjaInputModal = ({ isOpen, onClose, onSubmit }) => {
  const [hanjaName, setHanjaName] = useState('');
  const [error, setError] = useState('');

  const handleSubmit = () => {
    // í•œì ê²€ì¦ (2-4ì, í•œìë§Œ)
    const hanjaRegex = /^[\u4E00-\u9FFF]{2,4}$/;

    if (!hanjaRegex.test(hanjaName)) {
      setError('í•œì 2-4ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
      return;
    }

    onSubmit(hanjaName);
  };

  const handleClose = () => {
    setHanjaName('');
    setError('');
    onClose();
  };

  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4">
      <div className="bg-[#1a1a1c] border border-amber-900/30 rounded-lg p-8 max-w-md w-full">
        {/* í—¤ë” */}
        <div className="flex justify-between items-center mb-6">
          <h3 className="text-xl font-bold text-amber-500 font-serif">
            ì´ë¦„ ìƒˆê¸°ê¸°
          </h3>
          <button
            onClick={handleClose}
            className="text-stone-400 hover:text-stone-200 transition-colors"
          >
            <X size={24} />
          </button>
        </div>

        {/* ì…ë ¥ ì˜ì—­ */}
        <div className="space-y-4">
          <div>
            <label className="text-stone-300 text-sm mb-2 block">
              í•œì ì´ë¦„ (2-4ì)
            </label>
            <input
              type="text"
              value={hanjaName}
              onChange={(e) => {
                setHanjaName(e.target.value);
                setError('');
              }}
              placeholder="ææ•æµ©"
              className="w-full bg-black/50 border border-stone-700 rounded px-4 py-3
                         text-stone-200 text-lg font-serif text-center tracking-wider
                         focus:border-amber-500 focus:outline-none transition-colors"
              maxLength={4}
            />
            {error && (
              <p className="text-red-500 text-xs mt-1">{error}</p>
            )}
          </div>

          {/* ì•ˆë‚´ ë¬¸êµ¬ */}
          <div className="bg-amber-950/20 border border-amber-900/30 rounded p-4 text-xs text-stone-400 space-y-2">
            <p>âœ¨ ìˆ˜í˜¸ì‹  ì¹´ë“œì— ê·€í•˜ì˜ í•œì ì´ë¦„ì´ ìƒˆê²¨ì§‘ë‹ˆë‹¤</p>
            <p>ğŸ“„ ì „ì²´ ê²°ê³¼ PDF ë‹¤ìš´ë¡œë“œê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤</p>
          </div>

          {/* ê²°ì œ ë²„íŠ¼ */}
          <button
            onClick={handleSubmit}
            className="w-full bg-gradient-to-r from-amber-600 to-amber-500
                       hover:from-amber-500 hover:to-amber-400
                       text-white font-bold py-3 rounded-lg shadow-lg
                       transition-all transform hover:scale-105"
          >
            ê²°ì œí•˜ê¸° (100ì›)
          </button>
        </div>
      </div>
    </div>
  );
};

export default HanjaInputModal;
```

---

### 2. ResultPage ìˆ˜ì •

**íŒŒì¼:** `src/pages/ResultPage.jsx`

**ìƒíƒœ ì¶”ê°€:**

```jsx
const [showHanjaModal, setShowHanjaModal] = useState(false);
```

**ìˆ˜í˜¸ì‹  ì¹´ë“œ ì•„ë˜ ë²„íŠ¼ ì˜ì—­ ì¶”ê°€:**

```jsx
{/* ìˆ˜í˜¸ì‹  ì¹´ë“œ í‘œì‹œ ì˜ì—­ */}
<TalismanCard
  type={sajuResult.talismanName}
  isPurchased={sajuResult.isPaid}
  stampName={sajuResult.isPremium ? sajuResult.customHanjaName : 'å¤©å‘½éŒ„'}
/>

{/* ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì˜ì—­ */}
{sajuResult.isPaid && (
  <div className="mt-8 flex flex-col gap-3 w-full max-w-[320px]">
    {!sajuResult.isPremium ? (
      // 1ì°¨ ê²°ì œììš© ë²„íŠ¼ (í”„ë¦¬ë¯¸ì—„ X)
      <>
        <button
          onClick={() => setShowHanjaModal(true)}
          className="w-full bg-gradient-to-r from-amber-600 to-amber-500
                     hover:from-amber-500 hover:to-amber-400
                     text-white font-bold py-3 rounded-lg shadow-lg
                     transition-all transform hover:scale-105
                     flex items-center justify-center gap-2"
        >
          <span className="text-xl">âœ¨</span>
          ì´ë¦„ ìƒˆê¸°ê¸°
        </button>

        <button
          onClick={handleDownloadTalismanCard}
          className="w-full bg-stone-800 hover:bg-stone-700
                     text-stone-200 font-bold py-3 rounded-lg
                     transition-all flex items-center justify-center gap-2"
        >
          <Download size={18} />
          ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ
        </button>
      </>
    ) : (
      // 2ì°¨ ê²°ì œììš© ë²„íŠ¼ (í”„ë¦¬ë¯¸ì—„ O)
      <>
        <button
          onClick={handleDownloadTalismanCard}
          className="w-full bg-gradient-to-r from-emerald-600 to-emerald-500
                     hover:from-emerald-500 hover:to-emerald-400
                     text-white font-bold py-3 rounded-lg shadow-lg
                     transition-all transform hover:scale-105
                     flex items-center justify-center gap-2"
        >
          <Download size={18} />
          ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ (í•œì ìƒˆê²¨ì§)
        </button>

        <button
          onClick={handleDownloadPDF}
          className="w-full bg-gradient-to-r from-purple-600 to-purple-500
                     hover:from-purple-500 hover:to-purple-400
                     text-white font-bold py-3 rounded-lg shadow-lg
                     transition-all transform hover:scale-105
                     flex items-center justify-center gap-2"
        >
          <FileDown size={18} />
          ì „ì²´ ê²°ê³¼ PDF ë‹¤ìš´ë¡œë“œ
        </button>
      </>
    )}
  </div>
)}

{/* í•œì ì…ë ¥ ëª¨ë‹¬ */}
<HanjaInputModal
  isOpen={showHanjaModal}
  onClose={() => setShowHanjaModal(false)}
  onSubmit={handlePremiumPayment}
/>
```

---

### 3. í•¸ë“¤ëŸ¬ í•¨ìˆ˜

**íŒŒì¼:** `src/pages/ResultPage.jsx`

```jsx
/**
 * ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ (ì„œë²„ì—ì„œ ê³ í™”ì§ˆ ì´ë¯¸ì§€ ìƒì„±)
 */
const handleDownloadTalismanCard = async () => {
  try {
    const response = await fetch(
      `${process.env.REACT_APP_API_URL}/api/talisman/download/${accessToken}`
    );

    if (!response.ok) {
      throw new Error('ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨');
    }

    const blob = await response.blob();

    // Blob URL ìƒì„± ë° ë‹¤ìš´ë¡œë“œ
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `ìˆ˜í˜¸ì‹ _${sajuResult.userName}.png`;
    document.body.appendChild(link);
    link.click();

    // ì •ë¦¬
    document.body.removeChild(link);
    window.URL.revokeObjectURL(url);

  } catch (error) {
    console.error('ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', error);
    alert('ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
  }
};

/**
 * ì „ì²´ ê²°ê³¼ PDF ë‹¤ìš´ë¡œë“œ
 */
const handleDownloadPDF = async () => {
  try {
    const response = await fetch(
      `${process.env.REACT_APP_API_URL}/api/pdf/generate/${accessToken}`
    );

    if (!response.ok) {
      throw new Error('PDF ìƒì„± ì‹¤íŒ¨');
    }

    const blob = await response.blob();

    // Blob URL ìƒì„± ë° ë‹¤ìš´ë¡œë“œ
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `ì²œëª…ë¡_${sajuResult.userName}.pdf`;
    document.body.appendChild(link);
    link.click();

    // ì •ë¦¬
    document.body.removeChild(link);
    window.URL.revokeObjectURL(url);

  } catch (error) {
    console.error('PDF ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', error);
    alert('PDF ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
  }
};

/**
 * í”„ë¦¬ë¯¸ì—„ ê²°ì œ ì²˜ë¦¬
 */
const handlePremiumPayment = async (hanjaName) => {
  try {
    // 1. í”„ë¦¬ë¯¸ì—„ ê²°ì œ ìš”ì²­ ìƒì„±
    const response = await fetch(
      `${process.env.REACT_APP_API_URL}/api/payment/premium`,
      {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ accessToken, hanjaName })
      }
    );

    const data = await response.json();

    if (!data.success) {
      alert(data.error || 'ê²°ì œ ìš”ì²­ ì‹¤íŒ¨');
      return;
    }

    const { paymentData } = data;

    // 2. í¬íŠ¸ì› ê²°ì œ í˜¸ì¶œ
    const IMP = window.IMP;
    IMP.init(process.env.REACT_APP_PORTONE_IMP);

    IMP.request_pay(paymentData, async (rsp) => {
      if (rsp.success) {
        // 3. ê²°ì œ ê²€ì¦
        const verifyResponse = await fetch(
          `${process.env.REACT_APP_API_URL}/api/payment/verify`,
          {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              imp_uid: rsp.imp_uid,
              merchant_uid: rsp.merchant_uid
            })
          }
        );

        const verifyData = await verifyResponse.json();

        if (verifyData.success) {
          // 4. ì„±ê³µ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
          alert('í”„ë¦¬ë¯¸ì—„ ì—…ê·¸ë ˆì´ë“œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
          window.location.reload();
        } else {
          alert('ê²°ì œ ê²€ì¦ ì‹¤íŒ¨');
        }
      } else {
        alert('ê²°ì œ ì‹¤íŒ¨: ' + rsp.error_msg);
      }
    });

  } catch (error) {
    console.error('í”„ë¦¬ë¯¸ì—„ ê²°ì œ ì˜¤ë¥˜:', error);
    alert('ê²°ì œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
  }
};
```

---

## í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. 1ì°¨ ê²°ì œì â†’ 2ì°¨ ê²°ì œ í”Œë¡œìš°

1. **ë¬´ë£Œ ì‚¬ìš©ìë¡œ ì‹œì‘**
   - ì‚¬ì£¼ ì •ë³´ ì…ë ¥
   - 1ì°¨ ê²°ì œ (100ì›) ì™„ë£Œ

2. **ì œ3ì„œ + ê¸°ë³¸ ìˆ˜í˜¸ì‹  ì¹´ë“œ í™•ì¸**
   - ìˆ˜í˜¸ì‹  ì¹´ë“œ ì¸ì¥: "å¤©å‘½éŒ„"
   - ë²„íŠ¼ 2ê°œ í™•ì¸:
     - "ì´ë¦„ ìƒˆê¸°ê¸°"
     - "ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ"

3. **"ì´ë¦„ ìƒˆê¸°ê¸°" í´ë¦­**
   - í•œì ì…ë ¥ ëª¨ë‹¬ ì˜¤í”ˆ
   - í•œì ì´ë¦„ ì…ë ¥ (ì˜ˆ: "ææ•æµ©")
   - "ê²°ì œí•˜ê¸°" ë²„íŠ¼ í´ë¦­

4. **2ì°¨ ê²°ì œ (100ì›) ì™„ë£Œ**
   - í¬íŠ¸ì› ê²°ì œ ì°½ í™•ì¸
   - ê²°ì œ ì™„ë£Œ
   - í˜ì´ì§€ ìë™ ìƒˆë¡œê³ ì¹¨

5. **í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ í™•ì¸**
   - ìˆ˜í˜¸ì‹  ì¹´ë“œ ì¸ì¥: "ææ•æµ©å°"
   - ë²„íŠ¼ 2ê°œ ë³€ê²½ í™•ì¸:
     - "ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ (í•œì ìƒˆê²¨ì§)"
     - "ì „ì²´ ê²°ê³¼ PDF ë‹¤ìš´ë¡œë“œ"

---

### 2. ë‹¤ìš´ë¡œë“œ í…ŒìŠ¤íŠ¸

1. **ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ (1ì°¨ ê²°ì œì)**
   - ê¸°ë³¸ ë²„ì „ ë‹¤ìš´ë¡œë“œ
   - ì¸ì¥: "å¤©å‘½éŒ„"

2. **ìˆ˜í˜¸ì‹  ì¹´ë“œ ë‹¤ìš´ë¡œë“œ (2ì°¨ ê²°ì œì)**
   - í•œì ìƒˆê²¨ì§„ ë²„ì „ ë‹¤ìš´ë¡œë“œ
   - ì¸ì¥: "ææ•æµ©å°" (2ì), "ææ•æµ©ä¹‹å°" (3ì)

3. **PDF ë‹¤ìš´ë¡œë“œ (2ì°¨ ê²°ì œìë§Œ)**
   - ì „ì²´ ê²°ê³¼ PDF ë‹¤ìš´ë¡œë“œ
   - ë‚´ìš© í™•ì¸: ì œ1ì„œ + ì œ2ì„œ + ì œ3ì„œ + ìˆ˜í˜¸ì‹  ì¹´ë“œ

---

### 3. ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸

1. **í•œì ê²€ì¦ ì‹¤íŒ¨**
   - í•œê¸€ ì…ë ¥ â†’ ì—ëŸ¬ ë©”ì‹œì§€
   - 1ì ì…ë ¥ â†’ ì—ëŸ¬ ë©”ì‹œì§€
   - 5ì ì´ìƒ ì…ë ¥ â†’ ì—ëŸ¬ ë©”ì‹œì§€

2. **ì¤‘ë³µ ê²°ì œ ì‹œë„**
   - ì´ë¯¸ í”„ë¦¬ë¯¸ì—„ì¸ ì‚¬ìš©ìê°€ ë‹¤ì‹œ ê²°ì œ ì‹œë„
   - â†’ "ì´ë¯¸ í”„ë¦¬ë¯¸ì—„ ì—…ê·¸ë ˆì´ë“œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤" ì—ëŸ¬

3. **1ì°¨ ê²°ì œ ì—†ì´ 2ì°¨ ê²°ì œ ì‹œë„**
   - â†’ "1ì°¨ ê²°ì œê°€ í•„ìš”í•©ë‹ˆë‹¤" ì—ëŸ¬

4. **ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ì PDF ë‹¤ìš´ë¡œë“œ ì‹œë„**
   - â†’ "í”„ë¦¬ë¯¸ì—„ ì‚¬ìš©ìë§Œ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤" ì—ëŸ¬

---

## ì£¼ìš” ê¸°ìˆ  ê°œë…

### 1. Sharp vs html2canvas

| êµ¬ë¶„ | Sharp (ì„œë²„) | html2canvas (í´ë¼ì´ì–¸íŠ¸) |
|------|-------------|-------------------------|
| **ì‹¤í–‰ ìœ„ì¹˜** | ë°±ì—”ë“œ (Node.js) | í”„ë¡ íŠ¸ì—”ë“œ (ë¸Œë¼ìš°ì €) |
| **í™”ì§ˆ** | ê³ í™”ì§ˆ (ì›ë³¸ í’ˆì§ˆ ìœ ì§€) | ì¤‘ê°„ (í™”ë©´ ìº¡ì²˜ ìˆ˜ì¤€) |
| **í°íŠ¸** | ì„œë²„ í°íŠ¸ ì‚¬ìš© | ë¸Œë¼ìš°ì € í°íŠ¸ ì‚¬ìš© |
| **ë³´ì•ˆ** | ë†’ìŒ (ì„œë²„ì—ì„œ ì²˜ë¦¬) | ë‚®ìŒ (í´ë¼ì´ì–¸íŠ¸ ì¡°ì‘ ê°€ëŠ¥) |
| **ìš©ë„** | ìµœì¢… ë‹¤ìš´ë¡œë“œ | ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° |

### 2. Puppeteer PDF ìƒì„±

- **ì›ë¦¬**: ë¸Œë¼ìš°ì €ë¥¼ í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œë¡œ ì‹¤í–‰í•˜ì—¬ HTML â†’ PDF ë³€í™˜
- **ì¥ì **: CSS, í°íŠ¸, ì´ë¯¸ì§€ ëª¨ë‘ ì •í™•í•˜ê²Œ ë Œë”ë§
- **ì£¼ì˜ì‚¬í•­**: ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë†’ìœ¼ë¯€ë¡œ `browser.close()` í•„ìˆ˜

### 3. Blob ë‹¤ìš´ë¡œë“œ íŒ¨í„´

```javascript
const blob = await response.blob();
const url = window.URL.createObjectURL(blob);
const link = document.createElement('a');
link.href = url;
link.download = 'filename.png';
link.click();
window.URL.revokeObjectURL(url);
```

---

## êµ¬í˜„ ìˆœì„œ

1. âœ… ë°±ì—”ë“œ ì´ë¯¸ì§€ ë³µì‚¬ (`public/images/talisman` â†’ `backend/public/images/talisman`)
2. â¬œ DB ë§ˆì´ê·¸ë ˆì´ì…˜ (`scripts/migrate_premium.js`)
3. â¬œ ë°±ì—”ë“œ - í”„ë¦¬ë¯¸ì—„ ê²°ì œ ì—”ë“œí¬ì¸íŠ¸ (`createPremiumPayment`)
4. â¬œ ë°±ì—”ë“œ - ê²°ì œ ê²€ì¦ ìˆ˜ì • (`verifyPayment`)
5. â¬œ ë°±ì—”ë“œ - PDF ìƒì„± ì—”ë“œí¬ì¸íŠ¸ (`pdfController.js`)
6. â¬œ ë°±ì—”ë“œ - ìˆ˜í˜¸ì‹  ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ (`talismanController.js`)
7. â¬œ í”„ë¡ íŠ¸ì—”ë“œ - í•œì ì…ë ¥ ëª¨ë‹¬ (`HanjaInputModal.jsx`)
8. â¬œ í”„ë¡ íŠ¸ì—”ë“œ - ResultPage ë²„íŠ¼ ì˜ì—­ ì¶”ê°€
9. â¬œ í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…

---

## ì£¼ì˜ì‚¬í•­

### ë°±ì—”ë“œ

1. **Puppeteer ë©”ëª¨ë¦¬ ê´€ë¦¬**
   - PDF ìƒì„± í›„ ë°˜ë“œì‹œ `browser.close()` í˜¸ì¶œ
   - íƒ€ì„ì•„ì›ƒ ì„¤ì • í•„ìˆ˜ (`timeout: 30000`)

2. **Sharp ì´ë¯¸ì§€ í•©ì„±**
   - í•œì í°íŠ¸ê°€ ì„œë²„ì— ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•¨
   - Windows: `Batang`, `Gungsuh` í°íŠ¸
   - Linux: `fonts-nanum` íŒ¨í‚¤ì§€ ì„¤ì¹˜

3. **ê²°ì œ ê²€ì¦**
   - `merchant_uid`ë¡œ basic/premium êµ¬ë¶„ ì² ì €íˆ
   - ê¸ˆì•¡ ê²€ì¦ í•„ìˆ˜

### í”„ë¡ íŠ¸ì—”ë“œ

1. **í•œì ê²€ì¦**
   - ì •ê·œì‹: `/^[\u4E00-\u9FFF]{2,4}$/`
   - í”„ë¡ íŠ¸ì™€ ë°±ì—”ë“œ ëª¨ë‘ì—ì„œ ê²€ì¦ í•„ìˆ˜

2. **Blob ë©”ëª¨ë¦¬ ê´€ë¦¬**
   - `createObjectURL()` í›„ ë°˜ë“œì‹œ `revokeObjectURL()` í˜¸ì¶œ
   - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

3. **í¬íŠ¸ì› ê²°ì œ**
   - `merchant_uid`ì— `premium_` ì ‘ë‘ì‚¬ í•„ìˆ˜
   - ê²°ì œ ê²€ì¦ í›„ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨

---

## FAQ

### Q1. PDF ìš©ëŸ‰ì´ ë„ˆë¬´ í½ë‹ˆë‹¤. ì–´ë–»ê²Œ ìµœì í™”í•˜ë‚˜ìš”?

**A1.** Puppeteer PDF ì˜µì…˜ ì¡°ì •:

```javascript
const pdfBuffer = await page.pdf({
  format: 'A4',
  printBackground: true,
  preferCSSPageSize: true,
  displayHeaderFooter: false,
  // ì´ë¯¸ì§€ í’ˆì§ˆ ì¡°ì •
  quality: 80, // JPEG í’ˆì§ˆ (1-100)
});
```

### Q2. í•œì í°íŠ¸ê°€ ê¹¨ì§‘ë‹ˆë‹¤. ì–´ë–»ê²Œ í•´ê²°í•˜ë‚˜ìš”?

**A2.** ì„œë²„ì— í•œì í°íŠ¸ ì„¤ì¹˜:

```bash
# Ubuntu/Debian
sudo apt-get install fonts-nanum fonts-nanum-extra

# CentOS/RHEL
sudo yum install google-noto-cjk-fonts
```

### Q3. Puppeteerê°€ ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**A3.** ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜:

```bash
# Ubuntu/Debian
sudo apt-get install -y \
  chromium-browser \
  ca-certificates \
  fonts-liberation \
  libappindicator3-1 \
  libasound2 \
  libatk-bridge2.0-0 \
  libatk1.0-0 \
  libc6 \
  libcairo2 \
  libcups2 \
  libdbus-1-3 \
  libexpat1 \
  libfontconfig1 \
  libgbm1 \
  libgcc1 \
  libglib2.0-0 \
  libgtk-3-0 \
  libnspr4 \
  libnss3 \
  libpango-1.0-0 \
  libpangocairo-1.0-0 \
  libstdc++6 \
  libx11-6 \
  libx11-xcb1 \
  libxcb1 \
  libxcomposite1 \
  libxcursor1 \
  libxdamage1 \
  libxext6 \
  libxfixes3 \
  libxi6 \
  libxrandr2 \
  libxrender1 \
  libxss1 \
  libxtst6 \
  lsb-release \
  wget \
  xdg-utils
```

---

## ì°¸ê³  ë¬¸ì„œ

- [ë™ì  ì´ë¯¸ì§€ ê°ì¸ ë° ë‹¤ìš´ë¡œë“œ êµ¬í˜„ ê°€ì´ë“œ](./ë™ì _ì´ë¯¸ì§€_ê°ì¸_ë°_ë‹¤ìš´ë¡œë“œ_êµ¬í˜„_ê°€ì´ë“œ.md)
- [í¬íŠ¸ì› ê²°ì œ ì—°ë™ ê°€ì´ë“œ](https://portone.gitbook.io/docs/)
- [Puppeteer ê³µì‹ ë¬¸ì„œ](https://pptr.dev/)
- [Sharp ê³µì‹ ë¬¸ì„œ](https://sharp.pixelplumbing.com/)
