# 결제 금액 환경 변수 설정 가이드

## 📋 개요

테스트 모드에서 실제 결제가 발생하므로, 테스트를 위해 결제 금액을 낮게 설정할 수 있습니다.

## 🔧 환경 변수 설정

### 프론트엔드 `.env` 파일

```env
# 테스트 모드용 (100원)
VITE_PAYMENT_AMOUNT_BASIC=100  # 기본 사주 풀이 금액
VITE_PAYMENT_AMOUNT_PDF=100    # PDF 다운로드 금액

# 프로덕션 모드용 (실제 금액)
# VITE_PAYMENT_AMOUNT_BASIC=9900
# VITE_PAYMENT_AMOUNT_PDF=3000
```

## 💡 사용 방법

### 테스트 모드
- **금액**: 100원
- **이유**: 테스트 모드에서 실제 결제가 발생하므로, 여러 번 테스트하기 위해 금액을 낮춤
- **환불**: 포트원 테스트 모드는 매일 23:00~23:50 사이에 자동 취소됨

### 프로덕션 모드
- **기본 사주 풀이**: 9900원 (또는 원하는 금액)
- **PDF 다운로드**: 3000원 (또는 원하는 금액)
- 환경 변수만 변경하면 됨

## ⚠️ 주의사항

1. **테스트 모드에서도 실제 결제 발생**
   - 포트원 테스트 모드는 실제 결제가 이루어집니다
   - 매일 자동 취소되지만, 테스트 중에는 실제로 출금이 발생합니다

2. **환경 변수 변경 후 재시작 필요**
   - 프론트엔드 서버를 재시작해야 환경 변수가 적용됩니다
   ```bash
   # 프론트엔드 재시작
   npm run dev
   ```

3. **프로덕션 배포 시 확인**
   - 배포 전에 결제 금액이 올바르게 설정되었는지 확인하세요
   - 환경 변수를 프로덕션 값으로 변경해야 합니다

## 📝 코드에서 사용

### 프론트엔드
```javascript
// 환경 변수에서 금액 가져오기
const paymentAmount = parseInt(
  import.meta.env.VITE_PAYMENT_AMOUNT_BASIC || '100', 
  10
);

// 결제 요청
await createPayment({
  userId: userInfo.userId,
  amount: paymentAmount,
  productType: 'basic'
});
```

### 기본값
- 환경 변수가 설정되지 않으면 기본값 100원 사용
- 테스트 모드에서는 100원으로 설정하는 것을 권장

## 🔄 금액 변경 방법

1. `.env` 파일 열기
2. `VITE_PAYMENT_AMOUNT_BASIC` 값 변경
3. 프론트엔드 서버 재시작
4. 결제 테스트

## ✅ 확인 방법

결제 페이지에서 결제 금액이 환경 변수로 설정한 값으로 표시되는지 확인하세요.

