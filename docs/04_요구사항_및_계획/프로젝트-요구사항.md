# 사주풀이 웹 플랫폼 프로젝트 요구사항 명세서

> **프로젝트명**: 사주풀이 웹 플랫폼
> **버전**: 1.0
> **작성일**: 2025-12-14
> **최종 수정일**: 2025-12-14

---

## 📋 목차

1. [프로젝트 개요](#1-프로젝트-개요)
2. [비즈니스 목표](#2-비즈니스-목표)
3. [핵심 기능 요구사항](#3-핵심-기능-요구사항)
4. [기술 요구사항](#4-기술-요구사항)
5. [비기능 요구사항](#5-비기능-요구사항)
6. [데이터 모델](#6-데이터-모델)
7. [API 명세](#7-api-명세)
8. [UI/UX 요구사항](#8-uiux-요구사항)
9. [보안 및 인증](#9-보안-및-인증)
10. [외부 연동](#10-외부-연동)
11. [산출물](#11-산출물)
12. [제약사항 및 가정](#12-제약사항-및-가정)

---

## 1. 프로젝트 개요

### 1.1 프로젝트 배경

복잡한 회원가입 절차 없이 **결제 후 즉시 사주풀이 결과**를 확인할 수 있는 웹 서비스 개발.

**핵심 차별점**:
- ✅ **비회원 결제 프로세스**: 로그인/회원가입 없이 결제 가능
- ✅ **카카오톡 링크 재진입**: 알림톡으로 받은 링크로 언제든 재접속
- ✅ **간편 인증**: 생년월일 + 휴대폰 번호로 본인 확인
- ✅ **모바일 우선 설계**: PC에서도 모바일 비율 UI 제공
- ✅ **PDF 추가 구매**: 다운로드 가능한 PDF 파일로 수익 모델 다각화

### 1.2 타겟 사용자

- **주 타겟**: 모바일 사용자 (20~40대)
- **부 타겟**: PC 사용자
- **사용 시나리오**:
  1. 정보 입력 → 결제 → 카카오톡 링크 수신
  2. 링크 클릭 → 간편 인증 → 결과 확인
  3. (선택) PDF 추가 구매 → 다운로드

### 1.3 참고 서비스

- **벤치마킹**: https://umg.kr/
- **디자인 레퍼런스**: 미팅 시 공유 예정

---

## 2. 비즈니스 목표

### 2.1 핵심 목표

| 목표 | 측정 지표 | 목표치 |
|------|----------|--------|
| 사용자 경험 극대화 | 결제 완료율 | 80% 이상 |
| 재방문 유도 | 링크 재접속률 | 50% 이상 |
| 수익 다각화 | PDF 추가 구매 전환율 | 20% 이상 |
| 모바일 최적화 | 모바일 이탈률 | 30% 이하 |

### 2.2 비즈니스 모델

```
수익원 1: 사주풀이 기본 결제 (9,900원)
    ↓
    웹 결과 제공 + 카카오톡 링크
    ↓
수익원 2: PDF 다운로드 추가 결제 (미정)
    ↓
    PDF 파일 제공
```

---

## 3. 핵심 기능 요구사항

### 3.1 사용자 입력 및 결제

#### 3.1.1 정보 입력 화면

**필수 입력 항목**:
- [x] 이름 (한글, 2-10자)
- [x] 생년월일 (양력/음력 선택)
- [x] 태어난 시각 (시/분 또는 "모름")
- [x] 성별 (남성/여성)
- [x] 휴대폰 번호 (010-XXXX-XXXX 형식)

**유효성 검증**:
- [x] 실시간 입력 검증 (포커스 아웃 시)
- [x] 에러 메시지 표시
- [x] 필수 항목 미입력 시 다음 단계 진행 불가

**구현 상태**: ✅ 완료

---

#### 3.1.2 결제 시스템

**지원 결제 수단**:
- [x] 신용카드
- [x] 계좌이체
- [x] 간편결제 (카카오페이, 페이코 등)

**결제 프로세스**:
```
1. 정보 입력 완료
    ↓
2. 결제 금액 확인 (9,900원)
    ↓
3. PG사 결제 창 호출 (포트원)
    ↓
4. 결제 완료
    ↓
5. 결제 검증 (백엔드)
    ↓
6. 사주 계산 API 호출
    ↓
7. 결과 DB 저장
    ↓
8. 카카오톡 알림톡 발송 (결과 링크)
    ↓
9. 결과 페이지로 자동 이동
```

**결제 금액**:
- 기본 사주풀이: 9,900원 (환경변수로 관리)
- PDF 다운로드: 100원 (테스트용, 추후 조정)

**PG사**:
- [x] 포트원 (PortOne, 구 아임포트) V1 API 연동
- [x] 개발 환경: 더미 모드 지원
- [x] 운영 환경: 실제 결제 처리

**구현 상태**: ✅ 완료

---

#### 3.1.3 결제 후 처리

**자동 처리 항목**:
1. [x] DB에 사용자 정보 저장
2. [x] 고유 `access_token` 생성 (64자 해시)
3. [x] 사주 API 호출 및 결과 저장
4. [x] 카카오톡 알림톡 발송 (결과 링크)
5. [x] 결과 페이지로 리다이렉트

**카카오톡 알림톡 내용**:
```
[사주풀이 결과 완료]

안녕하세요, {이름}님!
사주풀이 결과가 준비되었습니다.

아래 링크를 클릭하여 확인해주세요:
{결과 페이지 URL}

* 링크는 언제든지 재접속 가능합니다.
* 본인 확인을 위해 생년월일과 휴대폰 번호가 필요합니다.
```

**구현 상태**: ✅ 완료

---

### 3.2 결과 조회 및 인증

#### 3.2.1 본인 인증 (간편 인증)

**인증 방식**:
- [x] 휴대폰 번호 + 생년월일 매칭
- [x] 비회원 로그인 대체 방식
- [x] 인증 성공 시 결과 페이지 표시

**인증 프로세스**:
```
1. 카카오톡 링크 클릭
    ↓
2. 결과 페이지 접속 (/result/{token})
    ↓
3. DB에서 token으로 사용자 조회
    ↓
   [결과 있음] → 결과 페이지 표시
   [결과 없음] → 본인 인증 화면 표시
    ↓
4. 휴대폰 번호 + 생년월일 입력
    ↓
5. DB 매칭 확인
    ↓
   [인증 성공] → 결과 페이지 표시
   [인증 실패] → 에러 메시지
```

**보안 고려사항**:
- [x] access_token은 URL에 포함되지만 충분히 긴 해시값 사용
- [x] 생년월일 + 휴대폰 번호 이중 인증
- [x] 동일한 정보로 여러 번 결제 가능 (각각 고유 token)

**구현 상태**: ✅ 완료

---

#### 3.2.2 결과 페이지

**표시 항목**:
- [x] 사용자 기본 정보 (이름, 생년월일, 성별)
- [x] 2026년 종합운세 점수 (0-100점)
- [x] 오행 분석 (목, 화, 토, 금, 수 비율 그래프)
- [x] 세부 운세 카드
  - 💰 재물운
  - ❤️ 애정운
  - 💼 직장운
  - 🏥 건강운
- [x] 각 운세별 점수 + 상세 설명 텍스트

**애니메이션 효과** (권장):
- [ ] 페이지 로드 시 페이드인 효과
- [ ] 점수 카운팅 애니메이션 (0 → 실제 점수)
- [ ] 오행 그래프 진행 바 애니메이션
- [ ] 카드 순차적 등장 효과

**구현 상태**:
- 데이터 표시: ✅ 완료
- 애니메이션: ⏳ 추후 구현

---

#### 3.2.3 대기 안내 (기술적 지연 발생 시)

**시나리오**: 사주 API 호출 지연, 대량 트래픽 등

**처리 방법**:
- [x] 결과가 아직 생성되지 않은 경우 "처리 중" 상태 표시
- [ ] 예상 소요 시간 안내 (예: "약 5분 소요됩니다")
- [ ] 완료 시 카카오톡 알림톡 추가 발송
- [ ] 새로고침 안내 메시지

**구현 상태**:
- 기본 로직: ✅ 완료
- 대기 안내 UI: ⏳ 추후 구현

---

### 3.3 PDF 다운로드 기능

#### 3.3.1 PDF 미리보기

**기능**:
- [x] "PDF 미리보기" 버튼 클릭
- [x] 워터마크 포함 PDF 생성
- [x] 모달 창에서 PDF 뷰어 표시
- [x] 페이지 네비게이션 (이전/다음)
- [x] 줌 인/아웃 기능
- [x] "전체 PDF 구매하기" 버튼

**워터마크**:
- [x] "미리보기" 텍스트 (45도 회전, 반투명)
- [x] 하단 오버레이 메시지: "전체 PDF를 다운로드하시겠어요?"

**구현 상태**: ✅ 완료

**상세 문서**: [PDF-미리보기-구현-가이드.md](./PDF-미리보기-구현-가이드.md)

---

#### 3.3.2 PDF 추가 결제

**결제 프로세스**:
```
1. "전체 PDF 구매하기" 버튼 클릭
    ↓
2. 포트원 결제 창 호출 (100원)
    ↓
3. 결제 완료
    ↓
4. 결제 검증 (백엔드)
    ↓
5. DB에 결제 기록 저장 (product_type: 'pdf')
    ↓
6. 워터마크 없는 PDF 자동 생성
    ↓
7. PDF 다운로드
```

**이미 결제한 경우**:
- [x] "PDF 다운로드" 버튼으로 표시 변경
- [x] 클릭 시 즉시 다운로드 (재결제 불필요)

**구현 상태**: ✅ 완료

---

#### 3.3.3 PDF 템플릿 디자인

**필수 포함 항목**:
- [x] 사용자 정보 (이름, 생년월일, 성별)
- [x] 종합운세 점수
- [x] 오행 분석 그래프
- [x] 세부 운세 (재물/애정/직장/건강)
- [x] 각 운세별 점수 및 설명
- [x] 생성일자
- [x] 하단 면책 조항

**디자인 요구사항**:
- [x] A4 용지 크기
- [x] 인쇄 가능한 디자인
- [x] 배경색 인쇄 지원
- [x] 한글 폰트 지원 (Malgun Gothic)

**기술 구현**:
- [x] HTML 템플릿 → Puppeteer → PDF 변환
- [x] 조건부 렌더링 (워터마크 포함/제외)

**구현 상태**: ✅ 완료

---

### 3.4 관리자 기능

#### 3.4.1 결제 내역 관리

**필수 기능**:
- [ ] 거래 내역 조회 (날짜, 사용자, 금액, 상태)
- [ ] 필터링 (날짜 범위, 결제 상태, 상품 타입)
- [ ] 결제 취소/환불 처리
- [ ] 엑셀 다운로드

**구현 상태**: ⏳ 미구현 (Phase 2)

---

#### 3.4.2 콘텐츠 관리

**필수 기능**:
- [ ] 사주 결과 텍스트 수정 (협의 필요)
- [ ] 운세 템플릿 관리
- [ ] PDF 템플릿 편집

**구현 상태**: ⏳ 미구현 (Phase 2)

---

## 4. 기술 요구사항

### 4.1 기술 스택

#### 4.1.1 프론트엔드

| 항목 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **프레임워크** | React | 19.2.0 | UI 라이브러리 |
| **빌드 도구** | Vite | 7.2.4 | 빠른 개발 서버 |
| **라우팅** | React Router | 7.10.1 | SPA 라우팅 |
| **스타일링** | Tailwind CSS | 4.1.18 | 유틸리티 CSS |
| **HTTP 클라이언트** | Axios | 1.13.2 | API 호출 |
| **PDF 뷰어** | react-pdf | 10.2.0 | PDF 미리보기 |
| **아이콘** | lucide-react | 0.560.0 | SVG 아이콘 |

**디렉토리 구조**:
```
src/
├── components/        # 재사용 가능한 컴포넌트
│   └── SajuApp.jsx   # 메인 앱 컴포넌트
├── pages/            # 페이지 컴포넌트
│   └── ResultPage.jsx # 결과 페이지
├── utils/            # 유틸리티 함수
│   └── api.js        # API 호출 함수
├── App.jsx           # 앱 진입점
└── main.jsx          # React 마운트
```

---

#### 4.1.2 백엔드

| 항목 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **런타임** | Node.js | 20.x+ | JavaScript 런타임 |
| **프레임워크** | Express | 4.18.2 | 웹 서버 프레임워크 |
| **데이터베이스** | MySQL | 8.0+ | 관계형 DB |
| **ORM/쿼리** | mysql2 | 3.6.5 | MySQL 드라이버 |
| **PDF 생성** | Puppeteer | 24.15.0 | HTML → PDF 변환 |
| **HTTP 클라이언트** | Axios | 1.6.2 | 외부 API 호출 |
| **환경변수** | dotenv | 16.3.1 | 설정 관리 |
| **CORS** | cors | 2.8.5 | CORS 처리 |

**디렉토리 구조**:
```
backend/
├── src/
│   ├── controllers/      # 비즈니스 로직
│   │   ├── pdfController.js
│   │   ├── paymentController.js
│   │   ├── sajuController.js
│   │   └── userController.js
│   ├── services/         # 서비스 레이어
│   │   ├── kakaoService.js
│   │   ├── pdfService.js
│   │   ├── portoneService.js
│   │   └── sajuService.js
│   ├── routes/           # API 라우트
│   │   ├── pdf.js
│   │   ├── payment.js
│   │   ├── saju.js
│   │   └── user.js
│   ├── config/           # 설정
│   │   └── database.js
│   └── index.js          # 서버 진입점
├── database/
│   ├── schema.sql        # DB 스키마
│   └── test_data.sql     # 테스트 데이터
└── uploads/
    └── pdf/              # 생성된 PDF 파일 저장
```

---

#### 4.1.3 인프라

| 항목 | 기술 | 설명 |
|------|------|------|
| **호스팅** | AWS EC2 | 웹 서버 호스팅 |
| **데이터베이스** | AWS RDS (MySQL) | 관리형 데이터베이스 |
| **파일 스토리지** | AWS S3 | PDF 파일 저장 (옵션) |
| **CDN** | CloudFront | 정적 파일 배포 (옵션) |
| **도메인/SSL** | Route 53 + ACM | DNS + HTTPS |

**현재 환경**:
- 개발: localhost (프론트: 5173, 백엔드: 3000)
- 로컬 MySQL: localhost:3306

---

### 4.2 외부 API 및 서비스

#### 4.2.1 사주 API

**요구사항**:
- [x] 생년월일, 태어난 시각, 성별 기반 사주 계산
- [x] 운세 점수 및 텍스트 반환
- [x] 오행 분석 데이터 제공

**현재 구현**:
- [x] 더미 데이터 생성 함수 (개발용)
- [ ] 실제 사주 API 연동 (추후 결정)

---

#### 4.2.2 포트원 (PG사)

**연동 API**: PortOne V1 REST API

**필수 구현**:
- [x] 결제 요청 생성
- [x] 결제 검증
- [x] 환불 처리 (API 준비됨, 실제 호출은 주석 처리)

**환경변수**:
```env
PORTONE_IMP_KEY=imp********
PORTONE_IMP_SECRET=********
```

**개발 모드**:
- [x] 더미 모드 지원 (실제 결제 없이 테스트)

**구현 상태**: ✅ 완료

---

#### 4.2.3 카카오 알림톡

**필수 기능**:
- [x] 결제 완료 후 결과 링크 발송
- [ ] 대기 안내 발송 (선택 사항)

**발송 타이밍**:
1. 결제 완료 직후 (결과 링크)
2. 사주 계산 완료 시 (처리 지연 시)

**템플릿 변수**:
- `#{이름}`: 사용자 이름
- `#{링크}`: 결과 페이지 URL

**환경변수**:
```env
KAKAO_ALIMTALK_API_KEY=********
KAKAO_ALIMTALK_SENDER_KEY=********
```

**구현 상태**: ✅ 완료

---

## 5. 비기능 요구사항

### 5.1 성능

| 항목 | 목표 | 측정 방법 |
|------|------|----------|
| 페이지 로드 시간 | 3초 이내 | Lighthouse |
| API 응답 시간 | 1초 이내 | 서버 로그 |
| PDF 생성 시간 | 5초 이내 | 벤치마크 |
| 동시 접속자 | 100명 | 부하 테스트 |

### 5.2 가용성

- **목표 가동률**: 99.9% (월간 다운타임 43분 이하)
- **백업**: 일일 DB 백업
- **모니터링**: 에러 로그 수집 및 알림

### 5.3 보안

- [x] HTTPS 적용 (운영 환경)
- [x] SQL Injection 방지 (Prepared Statement)
- [x] XSS 방지 (입력 검증 및 이스케이핑)
- [x] CORS 설정 (허용된 도메인만 접근)
- [x] 환경변수로 민감 정보 관리

### 5.4 확장성

- **수평 확장**: 로드 밸런서 + 다중 서버 (추후)
- **파일 저장**: S3로 마이그레이션 가능 (추후)
- **캐싱**: Redis 도입 가능 (추후)

---

## 6. 데이터 모델

### 6.1 ERD

```
users (사용자)
  ├─ id (PK)
  ├─ name
  ├─ phone
  ├─ birth_date
  ├─ birth_time
  ├─ gender
  ├─ calendar_type
  ├─ access_token (UNIQUE)
  └─ created_at

payments (결제)
  ├─ id (PK)
  ├─ user_id (FK → users.id)
  ├─ merchant_uid (UNIQUE)
  ├─ imp_uid
  ├─ amount
  ├─ product_type (basic, pdf)
  ├─ status (pending, paid, cancelled, refunded)
  ├─ paid_at
  └─ created_at

saju_results (사주 결과)
  ├─ id (PK)
  ├─ user_id (FK → users.id)
  ├─ saju_data (JSON)
  ├─ overall_fortune (TEXT)
  ├─ wealth_fortune (TEXT)
  ├─ love_fortune (TEXT)
  ├─ career_fortune (TEXT)
  ├─ health_fortune (TEXT)
  ├─ overall_score (INT)
  ├─ wealth_score (INT)
  ├─ love_score (INT)
  ├─ career_score (INT)
  ├─ health_score (INT)
  ├─ oheng_data (JSON)
  └─ created_at

notifications (알림톡 기록)
  ├─ id (PK)
  ├─ user_id (FK → users.id)
  ├─ type (result_link, delay_notice, pdf_complete)
  ├─ phone
  ├─ status (pending, sent, failed)
  ├─ sent_at
  └─ created_at
```

**관계**:
- users ← payments (1:N)
- users ← saju_results (1:N)
- users ← notifications (1:N)

**인덱스**:
- users.access_token (UNIQUE INDEX)
- payments.merchant_uid (UNIQUE INDEX)
- payments.user_id (INDEX)
- payments.status (INDEX)
- saju_results.user_id (INDEX)
- notifications.user_id (INDEX)

---

## 7. API 명세

### 7.1 사용자 API

| 메서드 | 엔드포인트 | 설명 | 상태 |
|--------|-----------|------|------|
| POST | `/api/user/create` | 사용자 생성 | ✅ |
| POST | `/api/user/verify` | 본인 인증 (간편) | ✅ |
| GET | `/api/user/:token` | 토큰으로 사용자 조회 | ✅ |

### 7.2 사주 API

| 메서드 | 엔드포인트 | 설명 | 상태 |
|--------|-----------|------|------|
| POST | `/api/saju/calculate` | 사주 계산 | ✅ |
| GET | `/api/saju/result/:token` | 결과 조회 | ✅ |

### 7.3 결제 API

| 메서드 | 엔드포인트 | 설명 | 상태 |
|--------|-----------|------|------|
| POST | `/api/payment/create` | 결제 요청 생성 | ✅ |
| POST | `/api/payment/verify` | 결제 검증 | ✅ |
| POST | `/api/payment/cancel` | 환불 처리 | ✅ |

### 7.4 PDF API

| 메서드 | 엔드포인트 | 설명 | 상태 |
|--------|-----------|------|------|
| POST | `/api/pdf/generate` | PDF 생성 (미리보기/다운로드) | ✅ |
| GET | `/api/pdf/download/:token` | PDF 다운로드 | ✅ |
| GET | `/api/pdf/check/:token` | PDF 결제 여부 확인 | ✅ |

**상세 API 문서**: [API-명세.md](./API-명세.md) (별도 작성 예정)

---

## 8. UI/UX 요구사항

### 8.1 디자인 원칙

1. **모바일 우선 (Mobile First)**
   - 모바일 화면 기준 디자인
   - PC에서도 모바일 비율 유지 (중앙 정렬)

2. **직관적인 UX**
   - 최소한의 클릭으로 목표 달성
   - 명확한 CTA (Call-to-Action)
   - 실시간 피드백 (로딩, 에러)

3. **접근성**
   - 충분한 대비 비율 (WCAG AA 기준)
   - 명확한 에러 메시지
   - 키보드 네비게이션 지원

### 8.2 화면 구성

| 화면 | 경로 | 상태 | 비고 |
|------|------|------|------|
| 메인 화면 | `/` | ✅ | 정보 입력 + 결제 |
| 결과 페이지 | `/result/:token` | ✅ | 결과 표시 + PDF 기능 |
| 본인 인증 | `/result/:token` (조건부) | ✅ | 결과 없을 시 표시 |

### 8.3 반응형 디자인

**브레이크포인트**:
```css
/* 모바일 */
@media (max-width: 768px) {
  /* 전체 너비 사용 */
}

/* PC (모바일 비율 유지) */
@media (min-width: 769px) {
  max-width: 480px;
  margin: 0 auto;
}
```

### 8.4 컬러 팔레트 (예시)

- **Primary**: #e74c3c (빨강, 사주 테마)
- **Secondary**: #667eea (보라, 신비로운 느낌)
- **Accent**: #d4a017 (금색, 오행)
- **Background**: #f5f5f5 (연한 회색)
- **Text**: #333 (진한 회색)

**실제 디자인**: Figma 파일 참조 (디자이너 작업 후)

---

## 9. 보안 및 인증

### 9.1 인증 방식

**현재 구현**: 간편 인증 (비회원)
- 생년월일 + 휴대폰 번호 매칭
- access_token 기반 URL 접근

**장점**:
- 회원가입 불필요
- 빠른 사용자 경험

**보안 고려사항**:
- access_token 충분히 긴 해시값 (64자)
- 생년월일 + 휴대폰 번호 이중 검증

### 9.2 결제 보안

- [x] 포트원 공식 SDK 사용
- [x] 서버 사이드 결제 검증 (필수)
- [x] merchant_uid 고유성 보장
- [x] 결제 금액 서버에서 재확인

### 9.3 데이터 보호

- [x] 개인정보 암호화 (DB 레벨, 추후)
- [x] SQL Injection 방지 (Prepared Statement)
- [x] XSS 방지 (입력 검증)
- [x] CSRF 방지 (토큰 기반, 추후)

---

## 10. 외부 연동

### 10.1 포트원 (PG사)

**연동 방식**: REST API (V1)

**필수 구현**:
- [x] 결제 창 호출 (프론트엔드)
- [x] 결제 검증 (백엔드)
- [x] Webhook 처리 (옵션)

**환경**:
- 개발: 더미 모드
- 운영: 실제 API 키 사용

### 10.2 카카오 알림톡

**발송 조건**:
- 결제 완료 후
- (선택) 처리 지연 시

**템플릿 관리**:
- 카카오 비즈니스 계정 필요
- 템플릿 사전 등록 필수

### 10.3 사주 API

**연동 예정**:
- [ ] API 선정 (미정)
- [ ] 연동 테스트
- [ ] 더미 데이터 → 실제 API 전환

---

## 11. 산출물

### 11.1 필수 산출물

- [x] 프로젝트 요구사항 명세서 (본 문서)
- [ ] 기획서 (상세 화면 정의서)
- [ ] 디자인 원본 파일 (Figma)
- [x] 소스 코드 (GitHub)
- [x] 데이터베이스 스키마
- [ ] API 명세서
- [ ] 관리자 페이지 매뉴얼
- [x] PDF 미리보기 구현 가이드
- [ ] 배포 가이드

### 11.2 기술 문서

- [x] [REQUIREMENTS.md](./REQUIREMENTS.md) - 기술 요구사항
- [x] [환경변수-설정.md](./환경변수-설정.md) - 환경 설정
- [x] [PDF-미리보기-구현-가이드.md](./PDF-미리보기-구현-가이드.md) - PDF 기능
- [x] [진행상황-정리.md](./진행상황-정리.md) - 개발 진행 상황
- [ ] [API-명세.md](./API-명세.md) - API 상세 문서

---

## 12. 제약사항 및 가정

### 12.1 제약사항

1. **로그인 없는 비회원 결제**
   - 회원가입 시스템 없음
   - access_token 기반 접근만 지원

2. **카카오톡 링크 의존성**
   - 주요 접근 경로가 카카오톡 알림톡
   - 링크 분실 시 재발송 기능 필요 (추후)

3. **모바일 우선**
   - PC 화면도 모바일 비율 유지
   - 태블릿 최적화는 낮은 우선순위

4. **결제 금액 고정**
   - 환경변수로 관리하지만 동적 변경 불가
   - 금액 변경 시 서버 재시작 필요

### 12.2 가정

1. **사용자**
   - 대부분 모바일 사용자 (80% 이상)
   - 카카오톡 사용 가능
   - 본인 휴대폰 번호 인증 가능

2. **트래픽**
   - 초기: 일 100건 미만
   - 성장 시: 일 1,000건
   - 피크 타임: 저녁 8-11시

3. **결제**
   - 평균 결제 금액: 9,900원
   - PDF 추가 구매율: 20%
   - 환불률: 5% 미만

4. **기술 환경**
   - Node.js 20.x 사용 가능
   - MySQL 8.0 사용 가능
   - AWS 인프라 사용 가능

---

## 부록

### A. 용어집

| 용어 | 설명 |
|------|------|
| **간편 인증** | 생년월일 + 휴대폰 번호 매칭 방식 인증 |
| **비회원 결제** | 회원가입 없이 진행하는 결제 |
| **access_token** | 결과 페이지 접근을 위한 고유 토큰 (64자 해시) |
| **merchant_uid** | 주문 번호 (우리가 생성) |
| **imp_uid** | 포트원 결제 고유번호 |
| **알림톡** | 카카오톡 비즈니스 메시지 (광고 아님) |
| **오행** | 목(木), 화(火), 토(土), 금(金), 수(水) |

### B. 참고 자료

- [포트원 API 문서](https://developers.portone.io/)
- [카카오 비즈니스 메시지](https://business.kakao.com/)
- [Puppeteer 문서](https://pptr.dev/)
- [React PDF 문서](https://github.com/wojtekmaj/react-pdf)

### C. 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2025-12-14 | Claude | 최초 작성 |

---

**문서 관리**:
- **작성**: Claude Sonnet 4.5
- **검토**: 프로젝트 매니저
- **승인**: 클라이언트
- **보관**: `/docs/프로젝트-요구사항.md`
