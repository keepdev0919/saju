# 🏛️ 천명록(天命錄): 오행 그래프 2.0 시각화 및 UX 전략

이 문서는 초정밀 분석 엔진 2.0에서 산출된 데이터를 사용자에게 가장 프리미엄하고 전문적으로 전달하기 위한 UI/UX 가이드라인을 정의합니다.

---

## 1. 핵심 철학: "정교한 수치를 넘어선 운명의 형상"
사용자가 자신의 오행 그래프를 마주했을 때, 단순히 '수치'를 보는 것이 아니라 자신의 **'운명적 에너지의 형상'**을 목격한다는 느낌을 주어야 합니다.

*   **Single Truth**: 신뢰도가 낮은 구시대적 1.0(단순 합산) 로직은 완전히 폐기하고, 오직 2.0(지장간 + 계절 가동치) 엔진의 결과값만 노출합니다.
*   **Density over Size**: "작은 수치는 약한 것이 아니라 밀도가 높은 것이다"라는 인식을 시각적으로 구현합니다.

---

## 2. 오행 엔진 2.0 데이터 구조 (Core Logic)
그래프의 근간이 되는 데이터는 백엔드 `sajuService.js`에서 다음과 같이 산출됩니다.

1.  **지장간(地藏干) 분할**: 지지(아래 글자) 내부에 숨겨진 기운을 비율대로 분해하여 반영.
2.  **계절 가중치(得時)**: 월지(태어난 달)의 오행에 각 절기 고유의 위엄(威嚴) 가중치 부여.
3.  **위계별 가중치**: 하늘의 의지(천간, 1.2)와 땅의 환경(지장간, 1.0)의 힘을 차등화.

---

## 3. 프리미엄 시각화 전략 (UI/UX)

### ① 어댑티브 스카이 스케일링 (Adaptive Sky Scaling)
*   **문제**: 고정된 100% 스케일은 그래프를 너무 작게 만들고, 상대적 스케일은 데이터의 절대적 무게감을 왜곡함.
*   **해결**: 사용자의 최대 오행값에 따라 우주의 크기(스케일)가 지능적으로 확장되는 유연한 경계선 시스템 도입.
    *   **표준형 (Max < 45%)**: 끝값을 50%로 고정. 조화로운 오각형을 형성하여 심리적 안정감 제공.
    *   **강력형 (Max 45%~60%)**: 끝값을 60%로 자동 확장. 강한 기운이 테두리에 닿아 깨지지 않도록 시각적 여백 확보.
    *   **제왕형 (Max > 60%)**: 끝값을 [현재 최대값 + 15%]로 확장. 압도적 에너지를 우아하게 담아내는 전용 우주 형성.
*   **효과**: 어떤 특이 사주라도 UI가 파괴되거나 '비정상'으로 보이지 않고, 각자의 기운에 최적화된 가장 아름다운 형상으로 노출됨.

### ② 오행별 에너지 텍스처 (Elemental Textures)
*   단순한 단색 영역이 아닌, 각 오행 조각(Polygon Slice)에 미세한 애니메이션 질감 적용.
    *   **木(나무)**: 세로로 뻗어 나가는 섬유질의 빛.
    *   **火(불)**: 안쪽에서 밖으로 일렁이는 불꽃의 잔상.
    *   **土(흙)**: 묵직하고 단단하게 자리를 지키는 입자감.
    *   **金(쇠)**: 날카롭고 매끄러게 반짝이는 금속성 광채.
    *   **水(물)**: 깊이 있게 소용돌이치는 심연의 물결.

### ③ 정밀 보정 및 미니멀리즘 (Precision & Minimalism)
*   **합계 100% 무결점 보정 (Largest Remainder Method)**: 단순 반올림으로 인한 합계 오류(101% 등)를 방지하기 위해, 소수점 잔여량이 큰 순서대로 가중치를 배분하여 항상 완벽한 100%를 유지.
*   **데이터 본질주의**: "안정적 조화"와 같은 주관적 라벨링을 제거하고, 사용자가 정밀한 수치와 그래프 형상만으로 자신의 운명을 직관적으로 느끼게 유도. (무료 리포트의 신뢰도 극대화)

---

## 4. 전문성 강화 장치 (Trust Indicator)

### 🛰️ 분석 시스템 실시간 로그 (Real-time Interpretation Log)
사용자의 실제 사주 구성에 따라 시스템이 판단한 분석 근거를 실시간 로그 형식으로 노출하여 '전문적 몰입감'을 극대화합니다.

*   **구현 원리 (Data-Driven Logic)**:
    *   **백엔드**: `calculateWuXing` 연산 중 발생한 팩트(지장간 발견, 계정 가중치 적용 등)를 기반으로 사용자 맞춤형 `analysisLogs` 배열을 실시간 조립하여 응답에 포함합니다. (하드코딩 배제)
    *   **프론트엔드**: 로딩 페이지(`AnalyzingPage`)에서 전달받은 로그 배열을 1.5~2초 간격으로 하나씩 순차적으로 띄우며, 한 글자씩 써 내려가는 '먹물 번짐 타이핑 효과'를 적용합니다.
*   **로그 예시 (◈ 심볼 및 정제된 어조 적용)**:
    *   `◈ 월지 '유금(酉金)' 기준 사주 원국 정밀 스캔`
    *   `◈ 지장간(地藏干) 내 잠재 기운 추출`
    *   `◈ 계절 절기에 따른 에너지 밀도 조율`
    *   `◈ 오행 균형도 산출 및 형상 복원`

---

## 5. 결핍과 과잉의 윤리적 연출 (Strategic Empathy)
역술 전문가의 조언에 따라 극단적인 사주 구성이 나타날 경우, 공포심을 자극하기보다는 '희망과 보완'의 메시지를 전달하는 데 집중합니다.

### ① 40% 임계값의 미학 (The 40% Threshold)
*   **압도적 기운 판정**: 특정 오행이 40%를 넘어서는 순간, 이를 '불안정'이 아닌 "인생의 굵직한 물줄기를 형성하는 강력한 원동력"으로 정의합니다.
*   **시각적 강조**: 해당 요소에는 **'Celestial Heartbeat'** 애니메이션(맥동 효과)을 적용하여, 사용자의 명식에서 가장 살아 숨 쉬는 지점이 어디인지 즉각적으로 인지하게 합니다.

### ② 결핍(Void)에 대한 예우
*   특정 오행이 매우 희박한 경우, 이를 단순히 '부족'으로 치부하지 않고 **"새로운 기운이 깃들 수 있는 신비로운 여백"**으로 묘사하며, 이 여백을 채워줄 부적(Seal)의 필요성을 자연스럽게 제안합니다.

---

**전문 고문단 총평**: 
*"오행 2.0 엔진은 천명록의 심장입니다. 이 정밀한 심장이 겉으로 드러날 때, 사용자는 단순한 재미를 넘어 자신의 운명에 대한 경외감을 느끼게 될 것입니다. 특히 극단적인 기운일수록 이를 '축복'으로 승화시키는 문구의 품격이 천명록의 완성도를 결정지을 것입니다."*
